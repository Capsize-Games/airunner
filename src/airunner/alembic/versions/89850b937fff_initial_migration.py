"""Initial migration

Revision ID: 89850b937fff
Revises: 
Create Date: 2023-12-30 06:10:13.725825

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '89850b937fff'
down_revision: Union[str, None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('active_grid_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('enabled', sa.Boolean(), nullable=True),
    sa.Column('render_border', sa.Boolean(), nullable=True),
    sa.Column('render_fill', sa.Boolean(), nullable=True),
    sa.Column('border_opacity', sa.Integer(), nullable=True),
    sa.Column('fill_opacity', sa.Integer(), nullable=True),
    sa.Column('pos_x', sa.Integer(), nullable=True),
    sa.Column('pos_y', sa.Integer(), nullable=True),
    sa.Column('width', sa.Integer(), nullable=True),
    sa.Column('height', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('active_tab',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('panel', sa.String(), nullable=True),
    sa.Column('active_tab', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('ai_models',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('path', sa.String(), nullable=True),
    sa.Column('branch', sa.String(), nullable=True),
    sa.Column('version', sa.String(), nullable=True),
    sa.Column('category', sa.String(), nullable=True),
    sa.Column('pipeline_action', sa.String(), nullable=True),
    sa.Column('enabled', sa.Boolean(), nullable=True),
    sa.Column('is_default', sa.Boolean(), nullable=True),
    sa.Column('model_type', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('brush_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('size', sa.Integer(), nullable=True),
    sa.Column('primary_color', sa.String(), nullable=True),
    sa.Column('secondary_color', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('canvas_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('pos_x', sa.Integer(), nullable=True),
    sa.Column('pos_y', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('controlnet_models',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('path', sa.String(), nullable=True),
    sa.Column('default', sa.Boolean(), nullable=True),
    sa.Column('enabled', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('conversation',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('deterministic_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('batch_size', sa.Integer(), nullable=True),
    sa.Column('style', sa.String(), nullable=True),
    sa.Column('seed', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('embeddings',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('path', sa.String(), nullable=True),
    sa.Column('tags', sa.String(), nullable=True),
    sa.Column('active', sa.Boolean(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('name', 'path', name='name_path_unique')
    )
    op.create_table('grid_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('show_grid', sa.Boolean(), nullable=True),
    sa.Column('snap_to_grid', sa.Boolean(), nullable=True),
    sa.Column('size', sa.Integer(), nullable=True),
    sa.Column('line_width', sa.Integer(), nullable=True),
    sa.Column('canvas_color', sa.String(), nullable=True),
    sa.Column('line_color', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('image_filter',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('display_name', sa.String(), nullable=True),
    sa.Column('auto_apply', sa.Boolean(), nullable=True),
    sa.Column('filter_class', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('llm_generator',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('username', sa.String(), nullable=True),
    sa.Column('botname', sa.String(), nullable=True),
    sa.Column('prefix', sa.String(), nullable=True),
    sa.Column('suffix', sa.String(), nullable=True),
    sa.Column('message_type', sa.String(), nullable=True),
    sa.Column('bot_personality', sa.String(), nullable=True),
    sa.Column('override_parameters', sa.Boolean(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('llm_prompt_templates',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('template', sa.String(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('memory_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('use_last_channels', sa.Boolean(), nullable=True),
    sa.Column('use_attention_slicing', sa.Boolean(), nullable=True),
    sa.Column('use_tf32', sa.Boolean(), nullable=True),
    sa.Column('use_enable_vae_slicing', sa.Boolean(), nullable=True),
    sa.Column('use_accelerated_transformers', sa.Boolean(), nullable=True),
    sa.Column('use_tiled_vae', sa.Boolean(), nullable=True),
    sa.Column('enable_model_cpu_offload', sa.Boolean(), nullable=True),
    sa.Column('use_enable_sequential_cpu_offload', sa.Boolean(), nullable=True),
    sa.Column('use_cudnn_benchmark', sa.Boolean(), nullable=True),
    sa.Column('use_torch_compile', sa.Boolean(), nullable=True),
    sa.Column('use_tome_sd', sa.Boolean(), nullable=True),
    sa.Column('tome_sd_ratio', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('metadata_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('image_export_metadata_prompt', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_negative_prompt', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_scale', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_seed', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_latents_seed', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_steps', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_ddim_eta', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_iterations', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_samples', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_model', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_model_branch', sa.Boolean(), nullable=True),
    sa.Column('image_export_metadata_scheduler', sa.Boolean(), nullable=True),
    sa.Column('export_metadata', sa.Boolean(), nullable=True),
    sa.Column('import_metadata', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('path_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('hf_cache_path', sa.String(), nullable=True),
    sa.Column('base_path', sa.String(), nullable=True),
    sa.Column('txt2img_model_path', sa.String(), nullable=True),
    sa.Column('depth2img_model_path', sa.String(), nullable=True),
    sa.Column('pix2pix_model_path', sa.String(), nullable=True),
    sa.Column('inpaint_model_path', sa.String(), nullable=True),
    sa.Column('upscale_model_path', sa.String(), nullable=True),
    sa.Column('txt2vid_model_path', sa.String(), nullable=True),
    sa.Column('embeddings_model_path', sa.String(), nullable=True),
    sa.Column('lora_model_path', sa.String(), nullable=True),
    sa.Column('image_path', sa.String(), nullable=True),
    sa.Column('gif_path', sa.String(), nullable=True),
    sa.Column('video_path', sa.String(), nullable=True),
    sa.Column('llm_casuallm_model_path', sa.String(), nullable=True),
    sa.Column('llm_seq2seq_model_path', sa.String(), nullable=True),
    sa.Column('llm_visualqa_model_path', sa.String(), nullable=True),
    sa.Column('vae_model_path', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('pipelines',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('category', sa.String(), nullable=True),
    sa.Column('version', sa.String(), nullable=True),
    sa.Column('pipeline_action', sa.String(), nullable=True),
    sa.Column('classname', sa.String(), nullable=True),
    sa.Column('singlefile_classname', sa.String(), nullable=True),
    sa.Column('default', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_builder',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('active', sa.Boolean(), nullable=True),
    sa.Column('auto_prompt_weight', sa.Float(), nullable=True),
    sa.Column('text_prompt_weight', sa.Float(), nullable=True),
    sa.Column('negative_auto_prompt_weight', sa.Float(), nullable=True),
    sa.Column('negative_text_prompt_weight', sa.Float(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('negative_prompt', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_style_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('negative_prompt', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_variable_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('saved_prompts',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('prompt', sa.String(), nullable=True),
    sa.Column('negative_prompt', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('prompt', 'negative_prompt', name='prompt_negative_prompt_unique')
    )
    op.create_table('schedulers',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('display_name', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('action_schedulers',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('section', sa.String(), nullable=True),
    sa.Column('generator_name', sa.String(), nullable=True),
    sa.Column('scheduler_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['scheduler_id'], ['schedulers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('image_filter_value',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('image_filter_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('value', sa.String(), nullable=True),
    sa.Column('value_type', sa.String(), nullable=True),
    sa.Column('min_value', sa.Integer(), nullable=True),
    sa.Column('max_value', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['image_filter_id'], ['image_filter.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('llm_generator_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('top_p', sa.Integer(), nullable=True),
    sa.Column('max_length', sa.Integer(), nullable=True),
    sa.Column('repetition_penalty', sa.Integer(), nullable=True),
    sa.Column('min_length', sa.Integer(), nullable=True),
    sa.Column('length_penalty', sa.Integer(), nullable=True),
    sa.Column('num_beams', sa.Integer(), nullable=True),
    sa.Column('ngram_size', sa.Integer(), nullable=True),
    sa.Column('temperature', sa.Integer(), nullable=True),
    sa.Column('sequences', sa.Integer(), nullable=True),
    sa.Column('top_k', sa.Integer(), nullable=True),
    sa.Column('seed', sa.Integer(), nullable=True),
    sa.Column('do_sample', sa.Boolean(), nullable=True),
    sa.Column('eta_cutoff', sa.Integer(), nullable=True),
    sa.Column('early_stopping', sa.Boolean(), nullable=True),
    sa.Column('random_seed', sa.Boolean(), nullable=True),
    sa.Column('model_version', sa.String(), nullable=True),
    sa.Column('generator_id', sa.Integer(), nullable=True),
    sa.Column('dtype', sa.String(), nullable=True),
    sa.Column('use_gpu', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['generator_id'], ['llm_generator.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('llm_model_version',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('generator_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['generator_id'], ['llm_generator.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('messages',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('message', sa.String(), nullable=True),
    sa.Column('conversation_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['conversation_id'], ['conversation.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_style',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('style_category_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['style_category_id'], ['prompt_style_category.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_variable_category_weight',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('weight', sa.Float(), nullable=True),
    sa.Column('prompt_category_id', sa.Integer(), nullable=True),
    sa.Column('variable_category_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['prompt_category_id'], ['prompt_category.id'], ),
    sa.ForeignKeyConstraint(['variable_category_id'], ['prompt_variable_category.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_variables',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('value', sa.String(), nullable=True),
    sa.Column('prompt_category_id', sa.Integer(), nullable=True),
    sa.Column('variable_category_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['prompt_category_id'], ['prompt_category.id'], ),
    sa.ForeignKeyConstraint(['variable_category_id'], ['prompt_variable_category.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompts',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('category_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['category_id'], ['prompt_category.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('nsfw_filter', sa.Boolean(), nullable=True),
    sa.Column('allow_hf_downloads', sa.Boolean(), nullable=True),
    sa.Column('dark_mode_enabled', sa.Boolean(), nullable=True),
    sa.Column('resize_on_paste', sa.Boolean(), nullable=True),
    sa.Column('allow_online_mode', sa.Boolean(), nullable=True),
    sa.Column('current_tool', sa.String(), nullable=True),
    sa.Column('image_to_new_layer', sa.Boolean(), nullable=True),
    sa.Column('latest_version_check', sa.Boolean(), nullable=True),
    sa.Column('primary_color', sa.String(), nullable=True),
    sa.Column('secondary_color', sa.String(), nullable=True),
    sa.Column('working_width', sa.Integer(), nullable=True),
    sa.Column('working_height', sa.Integer(), nullable=True),
    sa.Column('hf_api_key_read_key', sa.String(), nullable=True),
    sa.Column('hf_api_key_write_key', sa.String(), nullable=True),
    sa.Column('hf_username', sa.String(), nullable=True),
    sa.Column('mode', sa.String(), nullable=True),
    sa.Column('brush_settings_id', sa.Integer(), nullable=True),
    sa.Column('path_settings_id', sa.Integer(), nullable=True),
    sa.Column('grid_settings_id', sa.Integer(), nullable=True),
    sa.Column('metadata_settings_id', sa.Integer(), nullable=True),
    sa.Column('memory_settings_id', sa.Integer(), nullable=True),
    sa.Column('deterministic_settings_id', sa.Integer(), nullable=True),
    sa.Column('active_grid_settings_id', sa.Integer(), nullable=True),
    sa.Column('force_reset', sa.Boolean(), nullable=True),
    sa.Column('auto_export_images', sa.Boolean(), nullable=True),
    sa.Column('image_export_type', sa.String(), nullable=True),
    sa.Column('show_active_image_area', sa.Boolean(), nullable=True),
    sa.Column('use_interpolation', sa.Boolean(), nullable=True),
    sa.Column('is_maximized', sa.Boolean(), nullable=True),
    sa.Column('current_tab', sa.String(), nullable=True),
    sa.Column('current_section_stablediffusion', sa.String(), nullable=True),
    sa.Column('current_section_kandinsky', sa.String(), nullable=True),
    sa.Column('current_section_shape', sa.String(), nullable=True),
    sa.Column('current_tool_tab', sa.String(), nullable=True),
    sa.Column('current_bottom_panel_tab', sa.String(), nullable=True),
    sa.Column('move_unused_model_to_cpu', sa.Boolean(), nullable=True),
    sa.Column('unload_unused_model', sa.Boolean(), nullable=True),
    sa.Column('current_image_generator', sa.String(), nullable=True),
    sa.Column('current_llm_generator', sa.String(), nullable=True),
    sa.Column('active_image_editor_section', sa.String(), nullable=True),
    sa.Column('enable_advanced_mode', sa.Boolean(), nullable=True),
    sa.Column('image_similarity', sa.Integer(), nullable=True),
    sa.Column('enable_tts', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['active_grid_settings_id'], ['active_grid_settings.id'], ),
    sa.ForeignKeyConstraint(['brush_settings_id'], ['brush_settings.id'], ),
    sa.ForeignKeyConstraint(['deterministic_settings_id'], ['deterministic_settings.id'], ),
    sa.ForeignKeyConstraint(['grid_settings_id'], ['grid_settings.id'], ),
    sa.ForeignKeyConstraint(['memory_settings_id'], ['memory_settings.id'], ),
    sa.ForeignKeyConstraint(['metadata_settings_id'], ['metadata_settings.id'], ),
    sa.ForeignKeyConstraint(['path_settings_id'], ['path_settings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('documents',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('settings_id', sa.Integer(), nullable=True),
    sa.Column('active', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['settings_id'], ['settings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('generator_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('section', sa.String(), nullable=True),
    sa.Column('generator_name', sa.String(), nullable=True),
    sa.Column('settings_id', sa.Integer(), nullable=True),
    sa.Column('prompt', sa.String(), nullable=True),
    sa.Column('negative_prompt', sa.String(), nullable=True),
    sa.Column('steps', sa.Integer(), nullable=True),
    sa.Column('ddim_eta', sa.Float(), nullable=True),
    sa.Column('height', sa.Integer(), nullable=True),
    sa.Column('width', sa.Integer(), nullable=True),
    sa.Column('scale', sa.Integer(), nullable=True),
    sa.Column('seed', sa.Integer(), nullable=True),
    sa.Column('latents_seed', sa.Integer(), nullable=True),
    sa.Column('random_seed', sa.Boolean(), nullable=True),
    sa.Column('random_latents_seed', sa.Boolean(), nullable=True),
    sa.Column('model', sa.String(), nullable=True),
    sa.Column('scheduler', sa.String(), nullable=True),
    sa.Column('prompt_triggers', sa.String(), nullable=True),
    sa.Column('strength', sa.Integer(), nullable=True),
    sa.Column('image_guidance_scale', sa.Integer(), nullable=True),
    sa.Column('n_samples', sa.Integer(), nullable=True),
    sa.Column('controlnet', sa.String(), nullable=True),
    sa.Column('enable_controlnet', sa.Boolean(), nullable=True),
    sa.Column('enable_input_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_guidance_scale', sa.Integer(), nullable=True),
    sa.Column('clip_skip', sa.Integer(), nullable=True),
    sa.Column('variation', sa.Boolean(), nullable=True),
    sa.Column('input_image_use_imported_image', sa.Boolean(), nullable=True),
    sa.Column('input_image_use_grid_image', sa.Boolean(), nullable=True),
    sa.Column('input_image_recycle_grid_image', sa.Boolean(), nullable=True),
    sa.Column('input_image_mask_use_input_image', sa.Boolean(), nullable=True),
    sa.Column('input_image_mask_use_imported_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_input_image_link_to_input_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_input_image_use_imported_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_use_grid_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_recycle_grid_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_mask_link_input_image', sa.Boolean(), nullable=True),
    sa.Column('controlnet_mask_use_imported_image', sa.Boolean(), nullable=True),
    sa.Column('use_prompt_builder', sa.Boolean(), nullable=True),
    sa.Column('active_grid_border_color', sa.String(), nullable=True),
    sa.Column('active_grid_fill_color', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['settings_id'], ['settings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('loras',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('settings_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('path', sa.String(), nullable=True),
    sa.Column('scale', sa.Float(), nullable=True),
    sa.Column('enabled', sa.Boolean(), nullable=True),
    sa.Column('loaded', sa.Boolean(), nullable=True),
    sa.Column('trigger_word', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['settings_id'], ['settings.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('name', 'path', name='name_path_unique')
    )
    op.create_table('prompt_generator_settings',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('settings_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('advanced_mode', sa.Boolean(), nullable=True),
    sa.Column('category', sa.String(), nullable=True),
    sa.Column('prompt_blend_type', sa.Integer(), nullable=True),
    sa.Column('prompt', sa.String(), nullable=True),
    sa.Column('weighted_values', sa.JSON(), nullable=True),
    sa.Column('prompt_genre', sa.String(), nullable=True),
    sa.Column('prompt_color', sa.String(), nullable=True),
    sa.Column('prompt_style', sa.String(), nullable=True),
    sa.Column('prefix', sa.String(), nullable=True),
    sa.Column('suffix', sa.String(), nullable=True),
    sa.Column('negative_prefix', sa.String(), nullable=True),
    sa.Column('negative_suffix', sa.String(), nullable=True),
    sa.Column('active', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['settings_id'], ['settings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prompt_option',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('prompt_id', sa.Integer(), nullable=True),
    sa.Column('text', sa.String(), nullable=True),
    sa.Column('cond', sa.String(), nullable=True),
    sa.Column('else_cond', sa.String(), nullable=True),
    sa.Column('or_cond', sa.String(), nullable=True),
    sa.Column('next_cond_id', sa.Integer(), nullable=True),
    sa.Column('next_cond', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['next_cond'], ['prompt_option.id'], ),
    sa.ForeignKeyConstraint(['next_cond_id'], ['prompt_option.id'], ),
    sa.ForeignKeyConstraint(['prompt_id'], ['prompts.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('splitter_section',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('settings_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('order', sa.Integer(), nullable=True),
    sa.Column('size', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['settings_id'], ['settings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('layers',
    sa.Column('document_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('visible', sa.Boolean(), nullable=True),
    sa.Column('opacity', sa.Integer(), nullable=True),
    sa.Column('position', sa.Integer(), nullable=True),
    sa.Column('base_64_image', sa.String(), nullable=True),
    sa.Column('pos_x', sa.Integer(), nullable=True),
    sa.Column('pos_y', sa.Integer(), nullable=True),
    sa.Column('pivot_point_x', sa.Integer(), nullable=True),
    sa.Column('pivot_point_y', sa.Integer(), nullable=True),
    sa.Column('root_point_x', sa.Integer(), nullable=True),
    sa.Column('root_point_y', sa.Integer(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['document_id'], ['documents.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('layers')
    op.drop_table('splitter_section')
    op.drop_table('prompt_option')
    op.drop_table('prompt_generator_settings')
    op.drop_table('loras')
    op.drop_table('generator_settings')
    op.drop_table('documents')
    op.drop_table('settings')
    op.drop_table('prompts')
    op.drop_table('prompt_variables')
    op.drop_table('prompt_variable_category_weight')
    op.drop_table('prompt_style')
    op.drop_table('messages')
    op.drop_table('llm_model_version')
    op.drop_table('llm_generator_settings')
    op.drop_table('image_filter_value')
    op.drop_table('action_schedulers')
    op.drop_table('schedulers')
    op.drop_table('saved_prompts')
    op.drop_table('prompt_variable_category')
    op.drop_table('prompt_style_category')
    op.drop_table('prompt_category')
    op.drop_table('prompt_builder')
    op.drop_table('pipelines')
    op.drop_table('path_settings')
    op.drop_table('metadata_settings')
    op.drop_table('memory_settings')
    op.drop_table('llm_prompt_templates')
    op.drop_table('llm_generator')
    op.drop_table('image_filter')
    op.drop_table('grid_settings')
    op.drop_table('embeddings')
    op.drop_table('deterministic_settings')
    op.drop_table('conversation')
    op.drop_table('controlnet_models')
    op.drop_table('canvas_settings')
    op.drop_table('brush_settings')
    op.drop_table('ai_models')
    op.drop_table('active_tab')
    op.drop_table('active_grid_settings')
    # ### end Alembic commands ###
