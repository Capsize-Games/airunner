<html>
    <head>
        {# Set base href dynamically using a Jinja2 variable passed from Python #}
        {% if base_href %}
        <base href="{{ base_href }}/html/" />
        {% endif %}
        <script type='text/javascript'>
          window.MathJax = {
            tex: {inlineMath: [['$','$'], ['\\(','\\)']], displayMath: [['$$','$$'], ['\\[','\\]']]},
            options: { skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'] },
            svg: { fontCache: 'global' }
          };
        </script>
        <script type='text/javascript' src='{{ mathjax_url }}'></script>
        <link rel="stylesheet" type="text/css" href="{{ static_base_path }}/css/content_widget.css">
        <script type="text/javascript">
          // Define adjustContentHeight function inline to ensure it's always available
          window.adjustContentHeight = function() {
            var height = (document.body && document.body.scrollHeight) ? document.body.scrollHeight : 100;
            window.scrollTo(0, 0);
            return height;
          };
          
          document.addEventListener('DOMContentLoaded', function() {
            document.body.style.fontSize = '{{ font_size|int }}px';
          });
        </script>
        <script type='text/javascript' src='{{ static_base_path }}/js/content_widget.js'></script>
    </head>
    <body>
        <!-- Deprecated: This template is no longer used. See conversation.jinja2.html for the unified conversation display system. -->
        {{ content | safe }}
    </body>
</html>
